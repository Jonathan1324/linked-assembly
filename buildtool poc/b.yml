default_targets:
- main

files:
  C_SOURCES:
    dir: ${env.SRC_DIR}
    filter: *.c
    type: glob
    target: C_SOURCE

targets:
  main:
    toolchain: myToolchain
    depends:
    - C_SOURCES
    outputs:
    - ${env.BUILD_DIR}/main


  C_SOURCE:
    toolchain: myToolchain
    outputs:
    - ${env.BUILD_DIR}/${source.name}.o
